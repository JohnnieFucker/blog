---
layout: post
title: 通过贝叶斯定理看"觅影"
author: JohnnieFucker
date: '2017-08-10 11:43'
post_id: 513
category: Some Words
cover: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1502347067569&di=a62b4c625196ca63db4be398b639988a&imgtype=0&src=http%3A%2F%2Fimg.taopic.com%2Fuploads%2Fallimg%2F130603%2F240490-1306030S11848.jpg'
tags:
- 贝叶斯定理
- 腾讯
---

最近腾讯推出的AI新产品"觅影"，刷爆了朋友圈，指出发现准确率高达90%。

    目前我国早期食管癌检出率低于10%。而腾讯觅影筛查一个内镜检查用时不到4秒，对早期食管癌的发现准确率高达90%。
    除了食管癌早期筛查，未来这项技术还将支持早期肺癌、糖尿病性视网膜病变、乳腺癌等病种。
    
        
如何去看待这个产品？当然这是科技进步尤其是计算机技术巨大进步给人类带来有益反馈。简而言之这是一个好产品。

<!--break-->

我这里想讨论的是90%这个概率问题。不得不说文章的作者或者是腾讯公布数据的时候挺鸡贼的，并没有明确定义这个准确率是个什么准确率。

而前面做对比的10%却有明确清晰的定义：检出率10%，即确定患有早期食管癌的病人中，有10%是可以通过传统手段被检查出来的。

如果把觅影的90%也理解为检出率的话，那么确定患有早期食管癌的病人中，有90%是可以通过觅影检查出来的。
但通常所说的准确率是指患有早期食管癌的病人中，有90%是可以通过觅影检查出来是阳性；正常人，有90%是可以通过觅影检查出来是阴性（意味着有10%的正常人也有可能被检查出为阳性，这就是医学检查中经常出现的假阳性）。

大家看到这里可能会惊呼10%到90%的飞跃，但我想聊聊这90%在概率学上的意义，即如果从人群中随机抽一个人去检测，觅影给出的检测结果为阳性，那么这个人实际得病的概率是多少？

绝大部分人都会脱口而出90%，但实际结果可能让你大跌眼镜。

假设某种疾病在所有人群中的感染率是0.1%，觅影对于该疾病检出率为 90%（已知患病情况下， 90% 的可能性可以检查出阳性；正常人 90% 的可能性检查为正常），如果从人群中随机抽一个人去检测，医院给出的检测结果为阳性，那么这个人实际得病的概率是多少？
根据贝叶斯定理和以上的命题我们可以得到以下这样的参数

- P(A)=0.001，被检测者患病的概率
- P(A')=0.999，被检测未者患病的概率 1-P(A)
- P(B|A)=0.9，已知患病的情况下检测为阳性的概率
- P(B|A')=0.1，已知未患病的情况下检测为阳性的概率

其中A代表患病，B代表严查阳性，C代表未患病

求P(A|B)，检查为阳性的情况下，真正患病的概率。

根据贝叶斯定理，有如下计算方法

<img src="http://chart.googleapis.com/chart?cht=tx&chl=P(A%7CB)%3DP(A)%20%5Cfrac%7BP(B%7CA)%7D%7BP(B%7CA)P(A)%2BP(B%7C%5Cbar%7BA%7D)P(%5Cbar%7BA%7D)%7D&chs=70"/>

```
即 P(A|B) = P(A)*P(B|A)/(P(B|A)*P(A) + P(B|A')*P(A'));
即 P(A|B) = 0.001*0.9/(0.9*0.001+0.1*0.999);
结果是P(A|B)约等于0.89%
```
这意味着觅影检查出一个人为阳性，但这个人真正患病的概率却不足1%。

那是不是这个检查就是无意义的呢，答案当然不是，要想提高准确率（被检查为阳性，并且真正患病的概率）。最简单的办法就是复查。有兴趣的同学可以运用贝叶斯理论里的条件概率公式来计算，同样检查手段，检查两次都为阳性，且真正患病的概率是多大，三次呢？



以上仅从概率理论的范畴去探讨"觅影"准确率的问题，并无对"觅影"和腾讯的任何负面评价。从10到90，他们做到了飞跃，值得人们的尊敬！